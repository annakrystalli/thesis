require(nnet)
require(PerfMeas)
require(verification)
require(caret)
require(psych)
require(randomForest)
require(PresenceAbsence)
require(caTools)
load("~/Documents/TRAINING DATA/Models/randomForest/model assess NC CV1/forests/chel/results.Rdata")
res
str(res)
str(res$ rf.res)
str(res$rf.res)
str(res$rf_i$rf.res)
res$rf_i$rf.res$reas.AC
res$rf_i$rf.res$res.AC
res$rf_i$rf.res$res.AC$ACC
res$rf_i$rf.res$res.AC$Acc
res$rf_i$rf.res$res.AC$k
res$rf_i$rf.res$res.OC$tab.stats
install.packages("biomod2")
library("biomod2", lib.loc="/Library/Frameworks/R.framework/Versions/3.0/Resources/library")
str(res$rf_i$rf.res$res.AC$Acc)
res$rf_i$rf.res$res.AC$Acc$byClass
res$rf_i$rf.res$res.AC$Acc$byClass[,1]
res$rf_i$rf.res$res.AC$Acc$byClass[,1]+res$rf_i$rf.res$res.AC$Acc$byClass[,2]
res$rf_i$rf.res$res.AC$Acc$byClass[,1]+res$rf_i$rf.res$res.AC$Acc$byClass[,2]-1
mean(res$rf_i$rf.res$res.AC$Acc$byClass[,1]+res$rf_i$rf.res$res.AC$Acc$byClass[,2]-1)
res$rf_i$rf.res$res.AC$TSS
res$rf_i$rf.res$res.OC$Acc
str(res$rf_i$rf.res$res.OC$Acc)
str(res$rf_i$rf.res$res.OC$Acc$byClass)
res$rf_i$rf.res$res.OC$Acc$byClass
res$rf_i$rf.res$res.OC$Acc$byClass[1]
res$rf_i$rf.res$res.OC$Acc$byClass[1]+res$rf_i$rf.res$res.OC$Acc$byClass[2]-1
res$rf_i$rf.res$res.OC$tab.stats
0.4184298
res$rf_i$rf.res$res.OC$Acc$byClass[1]+res$rf_i$rf.res$res.OC$Acc$byClass[2]-1
res$rf_i$rf.res$res.OC$Acc$byClass[1]+res$rf_i$rf.res$res.OC$Acc$byClass[2]-1
res$rf_i$rf.res$res.OC$tab.stats
0.4191763
res$rf_i$rf.res$res.OC$Acc$byClass[1]+res$rf_i$rf.res$res.OC$Acc$byClass[2]-1
mean(res$rf_i$rf.res$res.AC$Acc$byClass[,1]+res$rf_i$rf.res$res.AC$Acc$byClass[,2]-1)
res$rf_i$rf.res$res.AC$Acc$table
tab<-res$rf_i$rf.res$res.AC$Acc$table
stats<-res$rf_i$rf.res$res.AC$Acc$byClass
tab
str(tab)
tab[1,]
sum(tab)
diag(tab)
sum(diag(tab))
sums<-NULL
sums<-  c(sums,sum(tab[i,])*sum(tab[,i]))
sums<-NULL
for(i in 1:dim(tab)[1]){
sums<-c(sums,sum(tab[i,])*sum(tab[,i]))
}
sums
colMeans(tab)*rowMeans(tab)
colSums(tab)*rowSums(tab)
sum(tab)
sum(tab)^
2
(1/sum(tab)^2)
A=(1/sum(tab)^2)*sum(colSums(tab)*rowSums(tab))
B=(1/sum(tab)^2)*sum(colSums(tab)*rowSums(tab))
(1/sum(tab))
1/26396
1/696748816
A=(1/sum(tab))*sum(diag(tab))
B=(1/sum(tab)^2)*sum(colSums(tab)*rowSums(tab))
(A-B) / (1-B)
tab<-matrix(c(65,10,21,29,17,48,18,10,128), nrow=3,ncol=3, byrow=T)
tab
B=(1/sum(tab)^2)*sum(colSums(tab)*rowSums(tab))
A=(1/sum(tab))*sum(diag(tab))
(A-B) / (1-B)
A=(1/sum(tab))*sum(diag(tab))
B=(1/sum(tab)^2)*sum(colSums(tab)*rowSums(tab))
C=(1/sum(tab)^2)*sum(colSums(tab)^2)
(A-B) / (1-C)
mTSS<-function(tab=Acc$table){
A=(1/sum(tab))*sum(diag(tab))
B=(1/sum(tab)^2)*sum(colSums(tab)*rowSums(tab))
C=(1/sum(tab)^2)*sum(colSums(tab)^2)
(A-B) / (1-C)}
TSS<-mTSS()
TSS<-mTSS(res$rf_i$rf.res$res.AC$Acc$table)
TSS
A=(1/sum(tab))*sum(diag(tab))
B=(1/sum(tab)^2)*sum(colSums(tab)*rowSums(tab))
C=(1/sum(tab)^2)*sum(colSums(tab)^2)
(A-B) / (1-C)
TSS<-mTSS(res$rf_i$rf.res$res.AC$Acc$table)
TSS
fix(mTSS)
mTSS<-function(tab=Acc$table){
A=(1/sum(tab))*sum(diag(tab))
B=(1/sum(tab)^2)*sum(colSums(tab)*rowSums(tab))
C=(1/sum(tab)^2)*sum(colSums(tab)^2)
TSS<-(A-B)/(1-C)}
TSS<-mTSS(res$rf_i$rf.res$res.AC$Acc$table)
TSS
mTSS<-function(tab=Acc$table){
A=(1/sum(tab))*sum(diag(tab))
B=(1/sum(tab)^2)*sum(colSums(tab)*rowSums(tab))
C=(1/sum(tab)^2)*sum(colSums(tab)^2)
TSS<-(A-B)/(1-C)
TSS}
TSS<-mTSS(res$rf_i$rf.res$res.AC$Acc$table)
TSS
TSS<-mTSS(matrix(c(65,10,21,29,17,48,18,10,128), nrow=3,ncol=3, byrow=T))
TSS
mTSS<-function(tab=Acc$table){
A=(1/sum(tab))*sum(diag(tab))
B=(1/sum(tab)^2)*sum(colSums(tab)*rowSums(tab))
C=(1/sum(tab)^2)*sum(colSums(tab)^2)
(A-B)/(1-C)}
TSS<-mTSS(matrix(c(65,10,21,29,17,48,18,10,128), nrow=3,ncol=3, byrow=T))
TSS
